<!doctypehtml><title>CRX Converter</title><style>body{font-family:serif}button,input{margin:5px}</style><h2>CRX Converter</h2><input accept=".crx"id="crxFile"type="file"> <button id="convertButton">Convert to ZIP</button><div id="status"></div><script>document.getElementById("crxFile").addEventListener("change",(function(e){document.getElementById("status").innerText=""})),document.getElementById("convertButton").addEventListener("click",(function(){const e=document.getElementById("crxFile"),t=document.getElementById("status");if(!e.files||0===e.files.length)return void(t.innerText="Please select a CRX file.");const n=e.files[0],r=new FileReader;t.innerText="Processing...",r.onload=function(e){try{const r=e.target.result,i=new Uint8Array(r);if(i.length<16||67!==i[0]||114!==i[1]||50!==i[2]||52!==i[3])return t.innerText="Not a valid CRX file.",void(t.style.color="#f00");const o=i[4]|i[5]<<8|i[6]<<16|i[7]<<24;let l=0;if(2===o){const e=i[8]|i[9]<<8|i[10]<<16|i[11]<<24;l=16+e+(i[12]|i[13]<<8|i[14]<<16|i[15]<<24)}else{if(3!==o)return t.innerText="Unsupported CRX version.",void(t.style.color="#f00");l=12+(i[8]|i[9]<<8|i[10]<<16|i[11]<<24)}if(l>=i.length)return t.innerText="Invalid CRX file structure.",void(t.style.color="#f00");const c=i.slice(l),s=new Blob([c],{type:"application/zip"}),d=URL.createObjectURL(s),a=document.createElement("a");a.href=d,a.download=n.name.replace(".crx",".zip"),a.innerText="Save Converted ZIP",t.innerText="",t.appendChild(a)}catch(e){t.innerText="Error: "+e.message}},r.onerror=function(){t.innerText="Error reading file.",t.style.color="#f00"},r.readAsArrayBuffer(n)}));</script>
